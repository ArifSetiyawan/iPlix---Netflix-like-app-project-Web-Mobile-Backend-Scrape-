{"ast":null,"code":"import _toConsumableArray from \"/home/sumirart/NETFLIXCLONE-NEW/Boilerplate-Iflix-Web-Clone-With-React/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/sumirart/NETFLIXCLONE-NEW/Boilerplate-Iflix-Web-Clone-With-React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sumirart/NETFLIXCLONE-NEW/Boilerplate-Iflix-Web-Clone-With-React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/sumirart/NETFLIXCLONE-NEW/Boilerplate-Iflix-Web-Clone-With-React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sumirart/NETFLIXCLONE-NEW/Boilerplate-Iflix-Web-Clone-With-React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/sumirart/NETFLIXCLONE-NEW/Boilerplate-Iflix-Web-Clone-With-React/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/sumirart/NETFLIXCLONE-NEW/Boilerplate-Iflix-Web-Clone-With-React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/sumirart/NETFLIXCLONE-NEW/Boilerplate-Iflix-Web-Clone-With-React/src/movie/screens/search.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport axios from 'axios';\nimport { Container, Button, Card, CardBody, CardTitle, CardText, CardImg, CardGroup } from 'reactstrap';\nimport Item from '@bit/ranm8.netflix-like.ui.item';\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n    _this.fetchMore = _this.fetchMore.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      movies: [],\n      page: 1,\n      lastPage: 0\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getMovies(1);\n    }\n  }, {\n    key: \"fetchMore\",\n    value: function fetchMore() {\n      var nextPage = this.state.page + 1;\n      this.getMovies(nextPage);\n    }\n  }, {\n    key: \"getMovies\",\n    value: function getMovies(number) {\n      var _this2 = this;\n\n      var values = queryString.parse(this.props.location.search);\n\n      if (this.state.movies === undefined || this.state.movies.length == 0) {\n        axios.get(\"http://192.168.0.62:3333/movies?search=\" + values.search + \"&page=\" + number).then(function (res) {\n          // console.log(res.data);\n          _this2.setState({\n            lastPage: res.data.lastPage,\n            page: number\n          });\n\n          _this2.setState({\n            movies: res.data.data\n          });\n        }).catch(function (err) {\n          return alert(err.response);\n        });\n      } else {\n        axios.get(\"http://192.168.0.62:3333/movies?search=\" + values.search + \"&page=\" + number).then(function (res) {\n          var pushMovie = [].concat(_toConsumableArray(_this2.state.movies), _toConsumableArray(res.data.data));\n          console.log(pushMovie);\n\n          _this2.setState({\n            lastPage: res.data.lastPage,\n            page: number\n          });\n\n          _this2.setState({\n            movies: pushMovie\n          });\n        }).catch(function (err) {\n          return alert(err.response);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var values = queryString.parse(this.props.location.search);\n      return React.createElement(\"section\", {\n        id: \"semua\",\n        style: {\n          marginTop: 90,\n          marginBottom: \"5vh\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, values.search === '' ? React.createElement(\"div\", {\n        className: \"row p-3\",\n        style: {\n          padding: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        style: {\n          padding: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"text-center\",\n        style: {\n          fontSize: 40,\n          fontWeight: 600,\n          lineHeight: 1.4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Please enter keyword!\"))) : null));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/home/sumirart/NETFLIXCLONE-NEW/Boilerplate-Iflix-Web-Clone-With-React/src/movie/screens/search.js"],"names":["React","Component","Link","queryString","axios","Container","Button","Card","CardBody","CardTitle","CardText","CardImg","CardGroup","Item","Search","props","fetchMore","bind","state","movies","page","lastPage","getMovies","nextPage","number","values","parse","location","search","undefined","length","get","then","res","setState","data","catch","err","alert","response","pushMovie","console","log","marginTop","marginBottom","padding","fontSize","fontWeight","lineHeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport queryString from 'query-string';\nimport axios from 'axios';\n\nimport { Container, Button, Card, CardBody, CardTitle, CardText, CardImg, CardGroup } from 'reactstrap'\nimport Item from '@bit/ranm8.netflix-like.ui.item';\n\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.fetchMore = this.fetchMore.bind(this);\n        this.state = {\n            movies: [],\n            page: 1,\n            lastPage: 0\n        };\n    }\n\n    componentDidMount() {\n        this.getMovies(1)\n    }\n\n    fetchMore() {\n        const nextPage = this.state.page + 1;\n        this.getMovies(nextPage);\n    }\n\n    getMovies(number) {\n        const values = queryString.parse(this.props.location.search);\n        if (this.state.movies === undefined || this.state.movies.length == 0) {\n            axios.get(\"http://192.168.0.62:3333/movies?search=\" + values.search + \"&page=\" + number)\n                .then(res => {\n                    // console.log(res.data);\n                    this.setState({ lastPage: res.data.lastPage, page: number });\n                    this.setState({ movies: res.data.data });\n                })\n                .catch(err => alert(err.response))\n        } else {\n            axios.get(\"http://192.168.0.62:3333/movies?search=\" + values.search + \"&page=\" + number)\n                .then(res => {\n                    const pushMovie = [...this.state.movies, ...res.data.data];\n                    console.log(pushMovie);\n                    this.setState({ lastPage: res.data.lastPage, page: number });\n                    this.setState({ movies: pushMovie });\n                })\n                .catch(err => alert(err.response))\n        }\n\n    }\n\n    render() {\n        const values = queryString.parse(this.props.location.search)\n        return (\n            <section id=\"semua\" style={{ marginTop: 90, marginBottom: \"5vh\" }}>\n                <Container>\n                    {values.search === '' ?\n                        <div className=\"row p-3\" style={{ padding: 0 }}>\n                            <div className=\"col-md-12\" style={{ padding: 0 }}>\n                                <h2 className=\"text-center\"\n                                    style={{ fontSize: 40, fontWeight: 600, lineHeight: 1.4 }}>Please enter keyword!</h2>\n                            </div>\n                        </div>\n                        : null\n                    }\n                </Container>\n            </section>\n        );\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}